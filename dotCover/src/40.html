<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>d:\data\sources\heineken-asia-pacific\hru-storefront-core\virtocommerce.liquidthemeengine\objects\itemcollections.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using DotLiquid;
using PagedList.Core;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using VirtoCommerce.Storefront.Model.Common;

namespace VirtoCommerce.LiquidThemeEngine.Objects
{
    public abstract class ItemCollection&lt;T&gt; : Drop, ICollection, ILiquidContains, IEnumerable&lt;T&gt;, IMutablePagedList
        where T : class
    {
        private readonly IMutablePagedList&lt;T&gt; _mutablePagedList;
        public ItemCollection(IEnumerable&lt;T&gt; superset)
        {
            if (superset == null)
            {
                superset = Enumerable.Empty&lt;T&gt;();
            }
            _mutablePagedList = superset as IMutablePagedList&lt;T&gt;;
            if (_mutablePagedList == null)
            {
                _mutablePagedList = new MutablePagedList&lt;T&gt;(superset);
            }
        }
        public long Size
        {
            get
            {
                return _mutablePagedList.Count;
            }
        }
        #region ICollection members
        public object SyncRoot
        {
            get
            {
                return _mutablePagedList;
            }
        }

        public bool IsSynchronized
        {
            get
            {
                return true;
            }
        }

        public int Count
        {
            get
            {
                return _mutablePagedList.Count;
            }
        }

        public void CopyTo(Array array, int index)
        {
            throw new NotImplementedException();
        }
        #endregion

        #region IEnumerable&lt;T&gt; Members
        public IEnumerator&lt;T&gt; GetEnumerator()
        {
            return _mutablePagedList.GetEnumerator();
        }

        IEnumerator IEnumerable.GetEnumerator()
        {
            return _mutablePagedList.GetEnumerator();
        }
        #endregion

        #region ILiquidContains Members
        public virtual bool Contains(object value)
        {
            var other = value as T;
            if (other != null)
            {
                return _mutablePagedList.Any(x =&gt; x.Equals(other));
            }
            return false;
        }
        #endregion

        #region IMutablePagedList Members
        public IEnumerable&lt;SortInfo&gt; SortInfos
        {
            get
            {
                return _mutablePagedList.SortInfos;
            }
        }

        public int PageCount
        {
            get
            {
                return _mutablePagedList.PageCount;
            }
        }

        public int TotalItemCount
        {
            get
            {
                return _mutablePagedList.TotalItemCount;
            }
        }

        public int PageNumber
        {
            get
            {
                return _mutablePagedList.PageNumber;
            }
        }

        public int PageSize
        {
            get
            {
                return _mutablePagedList.PageSize;
            }
        }

        public bool HasPreviousPage
        {
            get
            {
                return _mutablePagedList.HasPreviousPage;
            }
        }

        public bool HasNextPage
        {
            get
            {
                return _mutablePagedList.HasNextPage;
            }
        }

        public bool IsFirstPage
        {
            get
            {
                return _mutablePagedList.IsFirstPage;
            }
        }

        public bool IsLastPage
        {
            get
            {
                return _mutablePagedList.IsLastPage;
            }
        }

        public int FirstItemOnPage
        {
            get
            {
                return _mutablePagedList.FirstItemOnPage;
            }
        }

        public int LastItemOnPage
        {
            get
            {
                return _mutablePagedList.LastItemOnPage;
            }
        }

        public void Slice(int pageNumber, int pageSize, IEnumerable&lt;SortInfo&gt; sortInfos)
        {
            _mutablePagedList.Slice(pageNumber, pageSize, sortInfos);
        }

        public IPagedList GetMetaData()
        {
            return _mutablePagedList.GetMetaData();
        }
        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[15,9,15,55,0],[16,9,16,10,0],[17,13,17,34,0],[18,13,18,14,0],[19,17,19,50,0],[20,13,20,14,0],[21,13,21,66,0],[22,13,22,43,0],[23,13,23,14,0],[24,17,24,71,0],[25,13,25,14,0],[26,9,26,10,0],[30,13,30,14,0],[31,17,31,48,0],[32,13,32,14,0],[38,13,38,14,0],[39,17,39,42,0],[40,13,40,14,0],[46,13,46,14,0],[47,17,47,29,0],[48,13,48,14,0],[54,13,54,14,0],[55,17,55,48,0],[56,13,56,14,0],[60,9,60,10,0],[61,13,61,49,0],[67,9,67,10,0],[68,13,68,54,0],[69,9,69,10,0],[72,9,72,10,0],[73,13,73,54,0],[74,9,74,10,0],[79,9,79,10,0],[80,13,80,36,0],[81,13,81,31,0],[82,13,82,14,0],[83,17,83,68,0],[83,51,83,66,0],[85,13,85,26,0],[86,9,86,10,0],[93,13,93,14,0],[94,17,94,52,0],[95,13,95,14,0],[101,13,101,14,0],[102,17,102,52,0],[103,13,103,14,0],[109,13,109,14,0],[110,17,110,57,0],[111,13,111,14,0],[117,13,117,14,0],[118,17,118,53,0],[119,13,119,14,0],[125,13,125,14,0],[126,17,126,51,0],[127,13,127,14,0],[133,13,133,14,0],[134,17,134,58,0],[135,13,135,14,0],[141,13,141,14,0],[142,17,142,54,0],[143,13,143,14,0],[149,13,149,14,0],[150,17,150,54,0],[151,13,151,14,0],[157,13,157,14,0],[158,17,158,53,0],[159,13,159,14,0],[165,13,165,14,0],[166,17,166,58,0],[167,13,167,14,0],[173,13,173,14,0],[174,17,174,57,0],[175,13,175,14,0],[179,9,179,10,0],[180,13,180,70,0],[181,9,181,10,0],[184,9,184,10,0],[185,13,185,52,0],[186,9,186,10,0]]);
    </script>
  </body>
</html>